<button type="button" title="show create post" (click)="showDialog()">
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke-width="2.75" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
  </svg>
</button>

<p-dialog header="Create Post" [(visible)]="visible" [modal]="true">
  <form [formGroup]="postForm" (ngSubmit)="createPost()">
    <div class="flex flex-column gap-2">
      <label for="title">Title</label>
      <input pInputText id="title" formControlName="title" [ngClass]="{'ng-invalid ng-dirty': postForm.get('title')?.invalid && postForm.get('title')?.touched}" />
      <small class="p-error" *ngIf="postForm.get('title')?.invalid && postForm.get('title')?.touched">
        Title is required and must be at least 3 characters long.
      </small>

      <label for="body">Body</label>
      <textarea pInputTextarea id="body" formControlName="body" rows="5" [ngClass]="{'ng-invalid ng-dirty': postForm.get('body')?.invalid && postForm.get('body')?.touched}"></textarea>
      <small class="p-error" *ngIf="postForm.get('body')?.invalid && postForm.get('body')?.touched">
        Body is required and must be at least 10 characters long.
      </small>
    </div>
  </form>

  <ng-template pTemplate="footer">
    <p-button icon="pi pi-check" (click)="createPost()" label="Create Post"></p-button>
    <p-button icon="pi pi-times" (click)="hideDialog()" label="Cancel" styleClass="p-button-text"></p-button>
  </ng-template>
</p-dialog>

<p-toast></p-toast>
